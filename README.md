![Test Status](https://github.com/Cemlyn/FairValue/actions/workflows/test.yml/badge.svg)
[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=Cemlyn_FairValue&metric=alert_status)](https://sonarcloud.io/summary/new_code?id=Cemlyn_FairValue)
[![Coverage](https://sonarcloud.io/api/project_badges/measure?project=Cemlyn_FairValue&metric=coverage)](https://sonarcloud.io/summary/new_code?id=Cemlyn_FairValue)
[![Maintainability Rating](https://sonarcloud.io/api/project_badges/measure?project=Cemlyn_FairValue&metric=sqale_rating)](https://sonarcloud.io/summary/new_code?id=Cemlyn_FairValue)
[![Technical Debt](https://sonarcloud.io/api/project_badges/measure?project=Cemlyn_FairValue&metric=sqale_index)](https://sonarcloud.io/summary/new_code?id=Cemlyn_FairValue)

[![Python Version](https://img.shields.io/badge/Python-3.12-blue.svg)](https://www.python.org/downloads/release/python-312/)
[![code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![Status: Alpha](https://img.shields.io/badge/status-alpha-orange.svg)](https://www.example.com)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)

# FairValue

The FairValue python library is used to programmatically value companies using the Discounted Cash Flow (DCF) method. 

Valuations can be generated using:
1. Filings produced by the SEC's **EDGAR (Electronic Data Gathering, Analysis, and Retrieval)** system.
2. User provided financials.

## Generating Valuations

A valuation can be generated by passing the [EDGAR](https://www.sec.gov/search-filings/edgar-application-programming-interfaces) companyfacts and submissions files to the `Stock` class. This functionality is useful should the user want to process the bulk files the SEC has available for download, allowing for programmatic valuation of thousands of companies listed on USA exchanges in seconds.


**Input**
```python
from fairvalue import Stock
from fairvalue.models import SECFilings

secfiling = SECFilings(companyfacts='./data/companyfacts/CIK0000320193.json',
                         submissions='./data/submissions/CIK0000320193.json')

stock = Stock(sec_filing=secfiling)

stock.predict_fairvalue(growth_rate=0.02,
                        number_of_years=10,
                        discounting_rate=0.04)
```

**Output**
```
{
    "ticker_id": "AAPL",
    "exchange": "NONE",
    "cik": "320193",
    "entity_name": "Apple Inc.",
    "days_since_filing": 41,
    "is_potentially_delisted": False,
    "count_filings": 17,
    "forecast_date": "2025-02-20",
    "forecast_horizon": 10,
    "shares_outstanding": 15204137000,
    "company_value": 3886523142972.99,
    "intrinsic_value": 255.62
}
```

Valuation can also be generated using user inputs. Below shows an example of valuation for a company with `Â£108.807 billion` in free cash flow and `15.116 billion` shares outstanding.

**Input**
```Python
from fairvalue import Stock

financials = {'year_end_dates':['2025-01-01'],
              'free_cashflows':[108807000000],
              'shares_outstanding':[15115823000]}

stock = Stock(ticker_id='AAPL',
      historical_financials=financials)

stock.predict_fairvalue(growth_rate=0.02,
                        number_of_years=10,
                        discounting_rate=0.04)
```

**Output:**
```
{
    "ticker_id": "AAPL",
    "exchange": "NONE",
    "cik": None,
    "entity_name": None,
    "count_filings": 1,
    "forecast_date": "2025-02-20",
    "forecast_horizon": 10,
    "shares_outstanding": 15115823000,
    "company_value": 3886523142972.99,
    "intrinsic_value": 257.12
}
```


## Notes
1. FairValue does not process companies which fall into the categories below:
    - blank check companies or SPACs
    - Companies incorporated outside the USA, e.g. BABA. Complications in currency conversion means this will be added at a later date.
    - Companies who have non-USD currencies listed on the net ops cashfow or capital expenditures.

2. The **DCF** calculation does not factor in debt, assets and liabilities, being purely based on free cashflow.

3. Terminal value is calculated using the [Gordon Growth Model](https://www.investopedia.com/ask/answers/032415/what-are-advantages-and-disadvantages-gordon-growth-model.asp)
